<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.0.1 (20250615.1724)
 -->
<!-- Title: BLHeli_S_Main_Flow Pages: 1 -->
<svg width="1349pt" height="1733pt"
 viewBox="0.00 0.00 1349.00 1733.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1728.5)">
<title>BLHeli_S_Main_Flow</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1728.5 1345,-1728.5 1345,4 -4,4"/>
<!-- pgm_start -->
<g id="node1" class="node">
<title>pgm_start</title>
<polygon fill="lightgreen" stroke="black" points="338.25,-1724.5 269.75,-1724.5 269.75,-1685 338.25,-1685 338.25,-1724.5"/>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1709.1" font-family="Arial" font-size="12.00">程序启动</text>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1691.85" font-family="Arial" font-size="12.00">pgm_start</text>
</g>
<!-- init_no_signal -->
<g id="node2" class="node">
<title>init_no_signal</title>
<polygon fill="lightblue" stroke="black" points="349.5,-1648 258.5,-1648 258.5,-1608.5 349.5,-1608.5 349.5,-1648"/>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1632.6" font-family="Arial" font-size="12.00">无信号初始化</text>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1615.35" font-family="Arial" font-size="12.00">init_no_signal</text>
</g>
<!-- pgm_start&#45;&gt;init_no_signal -->
<g id="edge1" class="edge">
<title>pgm_start&#45;&gt;init_no_signal</title>
<path fill="none" stroke="black" d="M304,-1684.56C304,-1677 304,-1668.13 304,-1659.74"/>
<polygon fill="black" stroke="black" points="307.5,-1659.88 304,-1649.88 300.5,-1659.88 307.5,-1659.88"/>
</g>
<!-- check_signal_type -->
<g id="node14" class="node">
<title>check_signal_type</title>
<polygon fill="lightyellow" stroke="black" points="304,-1571.5 164.25,-1532 304,-1492.5 443.75,-1532 304,-1571.5"/>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1536.35" font-family="Arial" font-size="12.00">检测信号类型</text>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1519.1" font-family="Arial" font-size="12.00">(PWM/OneShot/DShot)</text>
</g>
<!-- init_no_signal&#45;&gt;check_signal_type -->
<g id="edge2" class="edge">
<title>init_no_signal&#45;&gt;check_signal_type</title>
<path fill="none" stroke="black" d="M304,-1608.18C304,-1600.84 304,-1592.08 304,-1583.17"/>
<polygon fill="black" stroke="black" points="307.5,-1583.41 304,-1573.41 300.5,-1583.41 307.5,-1583.41"/>
</g>
<!-- validate_rcp_start -->
<g id="node3" class="node">
<title>validate_rcp_start</title>
<polygon fill="lightblue" stroke="black" points="359.25,-1455.5 248.75,-1455.5 248.75,-1416 359.25,-1416 359.25,-1455.5"/>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1440.1" font-family="Arial" font-size="12.00">验证RC脉冲</text>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1422.85" font-family="Arial" font-size="12.00">validate_rcp_start</text>
</g>
<!-- arming_start -->
<g id="node4" class="node">
<title>arming_start</title>
<polygon fill="lightblue" stroke="black" points="348,-1379 260,-1379 260,-1339.5 348,-1339.5 348,-1379"/>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1363.6" font-family="Arial" font-size="12.00">解锁序列开始</text>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1346.35" font-family="Arial" font-size="12.00">arming_start</text>
</g>
<!-- validate_rcp_start&#45;&gt;arming_start -->
<g id="edge4" class="edge">
<title>validate_rcp_start&#45;&gt;arming_start</title>
<path fill="none" stroke="black" d="M304,-1415.56C304,-1408 304,-1399.13 304,-1390.74"/>
<polygon fill="black" stroke="black" points="307.5,-1390.88 304,-1380.88 300.5,-1390.88 307.5,-1390.88"/>
</g>
<!-- check_arming -->
<g id="node15" class="node">
<title>check_arming</title>
<polygon fill="lightyellow" stroke="black" points="304,-1288.5 216.7,-1270.5 304,-1252.5 391.3,-1270.5 304,-1288.5"/>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1267.72" font-family="Arial" font-size="12.00">检查解锁条件</text>
</g>
<!-- arming_start&#45;&gt;check_arming -->
<g id="edge5" class="edge">
<title>arming_start&#45;&gt;check_arming</title>
<path fill="none" stroke="black" d="M302.65,-1339.08C302.11,-1329.33 301.69,-1317.28 302,-1306.5 302.06,-1304.4 302.14,-1302.23 302.23,-1300.05"/>
<polygon fill="black" stroke="black" points="305.73,-1300.26 302.75,-1290.09 298.74,-1299.9 305.73,-1300.26"/>
</g>
<!-- wait_for_power_on -->
<g id="node5" class="node">
<title>wait_for_power_on</title>
<polygon fill="lightblue" stroke="black" points="363,-1201.5 245,-1201.5 245,-1162 363,-1162 363,-1201.5"/>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1186.1" font-family="Arial" font-size="12.00">等待加电</text>
<text xml:space="preserve" text-anchor="middle" x="304" y="-1168.85" font-family="Arial" font-size="12.00">wait_for_power_on</text>
</g>
<!-- check_throttle -->
<g id="node16" class="node">
<title>check_throttle</title>
<polygon fill="lightyellow" stroke="black" points="337,-1111 261.6,-1093 337,-1075 412.4,-1093 337,-1111"/>
<text xml:space="preserve" text-anchor="middle" x="337" y="-1090.22" font-family="Arial" font-size="12.00">检查油门值</text>
</g>
<!-- wait_for_power_on&#45;&gt;check_throttle -->
<g id="edge8" class="edge">
<title>wait_for_power_on&#45;&gt;check_throttle</title>
<path fill="none" stroke="black" d="M308.02,-1161.72C310.4,-1151.79 313.78,-1139.54 318,-1129 319.32,-1125.7 320.87,-1122.32 322.52,-1119.02"/>
<polygon fill="black" stroke="black" points="325.55,-1120.77 327.17,-1110.3 319.38,-1117.47 325.55,-1120.77"/>
</g>
<!-- init_start -->
<g id="node6" class="node">
<title>init_start</title>
<polygon fill="lightblue" stroke="black" points="959,-1024 883,-1024 883,-984.5 959,-984.5 959,-1024"/>
<text xml:space="preserve" text-anchor="middle" x="921" y="-1008.6" font-family="Arial" font-size="12.00">启动初始化</text>
<text xml:space="preserve" text-anchor="middle" x="921" y="-991.35" font-family="Arial" font-size="12.00">init_start</text>
</g>
<!-- run1 -->
<g id="node7" class="node">
<title>run1</title>
<polygon fill="lightblue" stroke="black" points="1073.38,-947.5 1002.62,-947.5 1002.62,-908 1073.38,-908 1073.38,-947.5"/>
<text xml:space="preserve" text-anchor="middle" x="1038" y="-932.1" font-family="Arial" font-size="12.00">运行阶段1</text>
<text xml:space="preserve" text-anchor="middle" x="1038" y="-914.85" font-family="Arial" font-size="12.00">run1</text>
</g>
<!-- init_start&#45;&gt;run1 -->
<g id="edge11" class="edge">
<title>init_start&#45;&gt;run1</title>
<path fill="none" stroke="black" d="M951.13,-984.06C965.6,-974.85 983.12,-963.7 998.62,-953.82"/>
<polygon fill="black" stroke="black" points="1000.14,-957.01 1006.7,-948.68 996.38,-951.1 1000.14,-957.01"/>
</g>
<!-- run2 -->
<g id="node8" class="node">
<title>run2</title>
<polygon fill="lightblue" stroke="black" points="528.38,-871 457.62,-871 457.62,-831.5 528.38,-831.5 528.38,-871"/>
<text xml:space="preserve" text-anchor="middle" x="493" y="-855.6" font-family="Arial" font-size="12.00">运行阶段2</text>
<text xml:space="preserve" text-anchor="middle" x="493" y="-838.35" font-family="Arial" font-size="12.00">run2</text>
</g>
<!-- run1&#45;&gt;run2 -->
<g id="edge12" class="edge">
<title>run1&#45;&gt;run2</title>
<path fill="none" stroke="black" d="M1002.24,-921.86C906.94,-908.84 646.87,-873.28 539.9,-858.66"/>
<polygon fill="black" stroke="black" points="540.42,-855.2 530.04,-857.31 539.47,-862.13 540.42,-855.2"/>
</g>
<!-- wait_for_comp_out_high -->
<g id="node22" class="node">
<title>wait_for_comp_out_high</title>
<polygon fill="lightblue" stroke="black" points="946.62,-549.25 799.38,-549.25 799.38,-513.25 946.62,-513.25 946.62,-549.25"/>
<text xml:space="preserve" text-anchor="middle" x="873" y="-526.98" font-family="Arial" font-size="12.00">wait_for_comp_out_high</text>
</g>
<!-- run1&#45;&gt;wait_for_comp_out_high -->
<g id="edge33" class="edge">
<title>run1&#45;&gt;wait_for_comp_out_high</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M1054.12,-907.55C1064.47,-893.24 1076,-872.72 1076,-852.25 1076,-852.25 1076,-852.25 1076,-652 1076,-593.88 1013.51,-563.39 957.88,-547.76"/>
<polygon fill="blue" stroke="blue" points="958.89,-544.41 948.32,-545.22 957.09,-551.18 958.89,-544.41"/>
</g>
<!-- wait_for_comm -->
<g id="node23" class="node">
<title>wait_for_comm</title>
<polygon fill="lightblue" stroke="black" points="363.5,-474.5 266.5,-474.5 266.5,-438.5 363.5,-438.5 363.5,-474.5"/>
<text xml:space="preserve" text-anchor="middle" x="315" y="-452.23" font-family="Arial" font-size="12.00">wait_for_comm</text>
</g>
<!-- run1&#45;&gt;wait_for_comm -->
<g id="edge34" class="edge">
<title>run1&#45;&gt;wait_for_comm</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M1002.19,-925.36C845.63,-919.04 229,-891.65 229,-852.25 229,-852.25 229,-852.25 229,-530.25 229,-508.85 244.71,-492.45 262.71,-480.69"/>
<polygon fill="blue" stroke="blue" points="264.18,-483.89 270.95,-475.74 260.58,-477.89 264.18,-483.89"/>
</g>
<!-- comm1comm2 -->
<g id="node24" class="node">
<title>comm1comm2</title>
<polygon fill="lightblue" stroke="black" points="1236,-869.25 1142,-869.25 1142,-833.25 1236,-833.25 1236,-869.25"/>
<text xml:space="preserve" text-anchor="middle" x="1189" y="-846.98" font-family="Arial" font-size="12.00">comm1comm2</text>
</g>
<!-- run1&#45;&gt;comm1comm2 -->
<g id="edge35" class="edge">
<title>run1&#45;&gt;comm1comm2</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M1073.66,-913.77C1090.44,-907.26 1110.55,-898.88 1128,-890 1136.44,-885.7 1145.25,-880.62 1153.47,-875.61"/>
<polygon fill="blue" stroke="blue" points="1155.21,-878.65 1161.85,-870.39 1151.51,-872.71 1155.21,-878.65"/>
</g>
<!-- calc_next_comm_timing -->
<g id="node25" class="node">
<title>calc_next_comm_timing</title>
<polygon fill="lightblue" stroke="black" points="1039.5,-474.5 894.5,-474.5 894.5,-438.5 1039.5,-438.5 1039.5,-474.5"/>
<text xml:space="preserve" text-anchor="middle" x="967" y="-452.23" font-family="Arial" font-size="12.00">calc_next_comm_timing</text>
</g>
<!-- run1&#45;&gt;calc_next_comm_timing -->
<g id="edge36" class="edge">
<title>run1&#45;&gt;calc_next_comm_timing</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M1038,-907.77C1038,-892.71 1038,-871.13 1038,-852.25 1038,-852.25 1038,-852.25 1038,-652 1038,-587.96 1028.21,-571.57 1006,-511.5 1002.33,-501.57 996.29,-491.84 990.06,-483.43"/>
<polygon fill="blue" stroke="blue" points="992.93,-481.42 983.99,-475.75 987.44,-485.76 992.93,-481.42"/>
</g>
<!-- run3 -->
<g id="node9" class="node">
<title>run3</title>
<polygon fill="lightblue" stroke="black" points="712.38,-794.5 641.62,-794.5 641.62,-755 712.38,-755 712.38,-794.5"/>
<text xml:space="preserve" text-anchor="middle" x="677" y="-779.1" font-family="Arial" font-size="12.00">运行阶段3</text>
<text xml:space="preserve" text-anchor="middle" x="677" y="-761.85" font-family="Arial" font-size="12.00">run3</text>
</g>
<!-- run2&#45;&gt;run3 -->
<g id="edge13" class="edge">
<title>run2&#45;&gt;run3</title>
<path fill="none" stroke="black" d="M528.48,-835.89C557.66,-824.07 599.22,-807.24 630.96,-794.39"/>
<polygon fill="black" stroke="black" points="631.96,-797.76 639.92,-790.77 629.33,-791.27 631.96,-797.76"/>
</g>
<!-- run2&#45;&gt;wait_for_comm -->
<g id="edge38" class="edge">
<title>run2&#45;&gt;wait_for_comm</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M457.19,-845.98C393.46,-837.37 267,-815.31 267,-775.75 267,-775.75 267,-775.75 267,-530.25 267,-512.67 276.89,-496.06 287.69,-483.16"/>
<polygon fill="blue" stroke="blue" points="290.07,-485.75 294.18,-475.98 284.88,-481.05 290.07,-485.75"/>
</g>
<!-- run2&#45;&gt;calc_next_comm_timing -->
<g id="edge40" class="edge">
<title>run2&#45;&gt;calc_next_comm_timing</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M528.65,-848.77C644.06,-843.52 1000,-823.46 1000,-775.75 1000,-775.75 1000,-775.75 1000,-606.75 1000,-555.35 996.23,-541.89 982,-492.5 981.34,-490.22 980.57,-487.89 979.74,-485.56"/>
<polygon fill="blue" stroke="blue" points="983.03,-484.38 976.07,-476.4 976.54,-486.98 983.03,-484.38"/>
</g>
<!-- wait_for_comp_out_low -->
<g id="node26" class="node">
<title>wait_for_comp_out_low</title>
<polygon fill="lightblue" stroke="black" points="524.38,-474.5 381.62,-474.5 381.62,-438.5 524.38,-438.5 524.38,-474.5"/>
<text xml:space="preserve" text-anchor="middle" x="453" y="-452.23" font-family="Arial" font-size="12.00">wait_for_comp_out_low</text>
</g>
<!-- run2&#45;&gt;wait_for_comp_out_low -->
<g id="edge37" class="edge">
<title>run2&#45;&gt;wait_for_comp_out_low</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M476.28,-831.07C458.14,-810.87 427.76,-778.74 398,-755 373.8,-735.7 356.26,-743.69 339,-718 324.54,-696.47 331.23,-686.34 329,-660.5 326.23,-628.4 317.05,-617.92 329,-588 346.91,-543.15 388.37,-504.9 418.43,-481.62"/>
<polygon fill="blue" stroke="blue" points="420.28,-484.62 426.15,-475.8 416.06,-479.03 420.28,-484.62"/>
</g>
<!-- comm2comm3 -->
<g id="node27" class="node">
<title>comm2comm3</title>
<polygon fill="lightblue" stroke="black" points="389,-792.75 295,-792.75 295,-756.75 389,-756.75 389,-792.75"/>
<text xml:space="preserve" text-anchor="middle" x="342" y="-770.48" font-family="Arial" font-size="12.00">comm2comm3</text>
</g>
<!-- run2&#45;&gt;comm2comm3 -->
<g id="edge39" class="edge">
<title>run2&#45;&gt;comm2comm3</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M457.34,-837.27C440.56,-830.76 420.45,-822.38 403,-813.5 394.56,-809.2 385.75,-804.12 377.53,-799.11"/>
<polygon fill="blue" stroke="blue" points="379.49,-796.21 369.15,-793.89 375.79,-802.15 379.49,-796.21"/>
</g>
<!-- run4 -->
<g id="node10" class="node">
<title>run4</title>
<polygon fill="lightblue" stroke="black" points="662.38,-718 591.62,-718 591.62,-678.5 662.38,-678.5 662.38,-718"/>
<text xml:space="preserve" text-anchor="middle" x="627" y="-702.6" font-family="Arial" font-size="12.00">运行阶段4</text>
<text xml:space="preserve" text-anchor="middle" x="627" y="-685.35" font-family="Arial" font-size="12.00">run4</text>
</g>
<!-- run3&#45;&gt;run4 -->
<g id="edge14" class="edge">
<title>run3&#45;&gt;run4</title>
<path fill="none" stroke="black" d="M664.12,-754.56C658.64,-746.4 652.13,-736.7 646.11,-727.72"/>
<polygon fill="black" stroke="black" points="649.15,-725.98 640.68,-719.63 643.34,-729.88 649.15,-725.98"/>
</g>
<!-- run3&#45;&gt;wait_for_comp_out_high -->
<g id="edge41" class="edge">
<title>run3&#45;&gt;wait_for_comp_out_high</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M712.83,-761.58C735.28,-752.47 763.55,-738.1 783,-718 827.47,-672.04 853.67,-599.89 865.47,-560.4"/>
<polygon fill="blue" stroke="blue" points="868.79,-561.52 868.19,-550.94 862.06,-559.58 868.79,-561.52"/>
</g>
<!-- run3&#45;&gt;wait_for_comm -->
<g id="edge42" class="edge">
<title>run3&#45;&gt;wait_for_comm</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M641.26,-773.28C555.09,-771.18 343,-759.85 343,-699.25 343,-699.25 343,-699.25 343,-530.25 343,-514.45 337.17,-497.92 330.84,-484.62"/>
<polygon fill="blue" stroke="blue" points="334.12,-483.36 326.44,-476.07 327.9,-486.56 334.12,-483.36"/>
</g>
<!-- run3&#45;&gt;calc_next_comm_timing -->
<g id="edge44" class="edge">
<title>run3&#45;&gt;calc_next_comm_timing</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M712.77,-764.83C741.72,-756.32 782.41,-741.29 812,-718 889.01,-657.39 916.54,-640.71 956,-551 965,-530.53 967.52,-505.23 967.92,-486.12"/>
<polygon fill="blue" stroke="blue" points="971.42,-486.35 967.93,-476.35 964.42,-486.35 971.42,-486.35"/>
</g>
<!-- comm3comm4 -->
<g id="node28" class="node">
<title>comm3comm4</title>
<polygon fill="lightblue" stroke="black" points="774,-716.25 680,-716.25 680,-680.25 774,-680.25 774,-716.25"/>
<text xml:space="preserve" text-anchor="middle" x="727" y="-693.98" font-family="Arial" font-size="12.00">comm3comm4</text>
</g>
<!-- run3&#45;&gt;comm3comm4 -->
<g id="edge43" class="edge">
<title>run3&#45;&gt;comm3comm4</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M689.88,-754.56C695.72,-745.86 702.72,-735.42 709.07,-725.97"/>
<polygon fill="blue" stroke="blue" points="711.85,-728.1 714.52,-717.84 706.04,-724.2 711.85,-728.1"/>
</g>
<!-- run5 -->
<g id="node11" class="node">
<title>run5</title>
<polygon fill="lightblue" stroke="black" points="593.38,-627.5 522.62,-627.5 522.62,-588 593.38,-588 593.38,-627.5"/>
<text xml:space="preserve" text-anchor="middle" x="558" y="-612.1" font-family="Arial" font-size="12.00">运行阶段5</text>
<text xml:space="preserve" text-anchor="middle" x="558" y="-594.85" font-family="Arial" font-size="12.00">run5</text>
</g>
<!-- run4&#45;&gt;run5 -->
<g id="edge15" class="edge">
<title>run4&#45;&gt;run5</title>
<path fill="none" stroke="black" d="M612.03,-678.05C602.62,-665.99 590.33,-650.22 579.85,-636.78"/>
<polygon fill="black" stroke="black" points="582.78,-634.84 573.87,-629.11 577.26,-639.15 582.78,-634.84"/>
</g>
<!-- run4&#45;&gt;wait_for_comm -->
<g id="edge46" class="edge">
<title>run4&#45;&gt;wait_for_comm</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M591.47,-686.28C572.68,-679.86 549.52,-670.97 530,-660.5 434.7,-609.39 431.8,-567.61 354,-492.5 350.54,-489.16 346.84,-485.7 343.16,-482.33"/>
<polygon fill="blue" stroke="blue" points="345.58,-479.8 335.82,-475.69 340.89,-484.99 345.58,-479.8"/>
</g>
<!-- run4&#45;&gt;calc_next_comm_timing -->
<g id="edge48" class="edge">
<title>run4&#45;&gt;calc_next_comm_timing</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M658.78,-678.02C677.07,-665.58 699.28,-647.91 714,-627.5 746.17,-582.91 716.17,-548.32 757,-511.5 766.81,-502.66 828.97,-487.28 883.13,-475.19"/>
<polygon fill="blue" stroke="blue" points="883.71,-478.65 892.72,-473.07 882.2,-471.82 883.71,-478.65"/>
</g>
<!-- run4&#45;&gt;wait_for_comp_out_low -->
<g id="edge45" class="edge">
<title>run4&#45;&gt;wait_for_comp_out_low</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M591.3,-681.7C567.05,-669.71 535.59,-651.18 514,-627.5 477.11,-587.05 462.16,-522.69 456.39,-485.86"/>
<polygon fill="blue" stroke="blue" points="459.92,-485.83 455.04,-476.43 452.99,-486.83 459.92,-485.83"/>
</g>
<!-- comm4comm5 -->
<g id="node29" class="node">
<title>comm4comm5</title>
<polygon fill="lightblue" stroke="black" points="705,-625.75 611,-625.75 611,-589.75 705,-589.75 705,-625.75"/>
<text xml:space="preserve" text-anchor="middle" x="658" y="-603.48" font-family="Arial" font-size="12.00">comm4comm5</text>
</g>
<!-- run4&#45;&gt;comm4comm5 -->
<g id="edge47" class="edge">
<title>run4&#45;&gt;comm4comm5</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M633.73,-678.05C637.96,-665.97 643.48,-650.19 648.2,-636.74"/>
<polygon fill="blue" stroke="blue" points="651.41,-638.14 651.42,-627.54 644.81,-635.83 651.41,-638.14"/>
</g>
<!-- run6 -->
<g id="node12" class="node">
<title>run6</title>
<polygon fill="lightblue" stroke="black" points="555.38,-551 484.62,-551 484.62,-511.5 555.38,-511.5 555.38,-551"/>
<text xml:space="preserve" text-anchor="middle" x="520" y="-535.6" font-family="Arial" font-size="12.00">运行阶段6</text>
<text xml:space="preserve" text-anchor="middle" x="520" y="-518.35" font-family="Arial" font-size="12.00">run6</text>
</g>
<!-- run5&#45;&gt;run6 -->
<g id="edge16" class="edge">
<title>run5&#45;&gt;run6</title>
<path fill="none" stroke="black" d="M548.21,-587.56C544.18,-579.66 539.42,-570.32 534.96,-561.58"/>
<polygon fill="black" stroke="black" points="538.1,-560.04 530.44,-552.72 531.87,-563.22 538.1,-560.04"/>
</g>
<!-- run5&#45;&gt;wait_for_comp_out_high -->
<g id="edge49" class="edge">
<title>run5&#45;&gt;wait_for_comp_out_high</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M593.76,-590.69C596.52,-589.71 599.29,-588.79 602,-588 648.28,-574.45 661.7,-579.41 709,-570 735.58,-564.71 764.42,-558.3 790.41,-552.27"/>
<polygon fill="blue" stroke="blue" points="790.94,-555.74 799.88,-550.06 789.34,-548.93 790.94,-555.74"/>
</g>
<!-- run5&#45;&gt;wait_for_comm -->
<g id="edge50" class="edge">
<title>run5&#45;&gt;wait_for_comm</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M530.17,-587.51C495.9,-564.1 435.63,-523.82 382,-492.5 374.91,-488.36 367.28,-484.15 359.81,-480.16"/>
<polygon fill="blue" stroke="blue" points="361.59,-477.14 351.11,-475.58 358.32,-483.33 361.59,-477.14"/>
</g>
<!-- run5&#45;&gt;calc_next_comm_timing -->
<g id="edge52" class="edge">
<title>run5&#45;&gt;calc_next_comm_timing</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M593.6,-591C625.76,-576.59 669.09,-556.69 676,-551 700.9,-530.48 691.04,-508.6 719,-492.5 748.71,-475.39 833.92,-479.46 882.87,-474.42"/>
<polygon fill="blue" stroke="blue" points="883.21,-477.91 892.69,-473.17 882.32,-470.96 883.21,-477.91"/>
</g>
<!-- comm5comm6 -->
<g id="node30" class="node">
<title>comm5comm6</title>
<polygon fill="lightblue" stroke="black" points="667,-549.25 573,-549.25 573,-513.25 667,-513.25 667,-549.25"/>
<text xml:space="preserve" text-anchor="middle" x="620" y="-526.98" font-family="Arial" font-size="12.00">comm5comm6</text>
</g>
<!-- run5&#45;&gt;comm5comm6 -->
<g id="edge51" class="edge">
<title>run5&#45;&gt;comm5comm6</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M573.97,-587.56C581.36,-578.68 590.26,-567.98 598.26,-558.37"/>
<polygon fill="blue" stroke="blue" points="600.9,-560.68 604.6,-550.75 595.52,-556.2 600.9,-560.68"/>
</g>
<!-- check_startup_phase -->
<g id="node17" class="node">
<title>check_startup_phase</title>
<polygon fill="lightyellow" stroke="black" points="161,-474.5 73.7,-456.5 161,-438.5 248.3,-456.5 161,-474.5"/>
<text xml:space="preserve" text-anchor="middle" x="161" y="-453.73" font-family="Arial" font-size="12.00">检查启动阶段</text>
</g>
<!-- run6&#45;&gt;check_startup_phase -->
<g id="edge17" class="edge">
<title>run6&#45;&gt;check_startup_phase</title>
<path fill="none" stroke="black" d="M484.27,-523.01C421.01,-510.19 288.99,-483.44 214.73,-468.39"/>
<polygon fill="black" stroke="black" points="215.74,-465.02 205.25,-466.47 214.35,-471.88 215.74,-465.02"/>
</g>
<!-- run6&#45;&gt;wait_for_comm -->
<g id="edge54" class="edge">
<title>run6&#45;&gt;wait_for_comm</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M491.04,-511.17C479.84,-504.47 466.68,-497.41 454,-492.5 422.56,-480.34 410.76,-483.05 374.8,-474.76"/>
<polygon fill="blue" stroke="blue" points="376,-471.45 365.45,-472.47 374.33,-478.25 376,-471.45"/>
</g>
<!-- run6&#45;&gt;calc_next_comm_timing -->
<g id="edge57" class="edge">
<title>run6&#45;&gt;calc_next_comm_timing</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M555.76,-514.16C558.52,-513.18 561.29,-512.28 564,-511.5 615.9,-496.58 630.41,-499.13 684,-492.5 769.53,-481.91 794.36,-487.17 883.06,-474.66"/>
<polygon fill="blue" stroke="blue" points="883.31,-478.16 892.7,-473.26 882.3,-471.23 883.31,-478.16"/>
</g>
<!-- run6&#45;&gt;wait_for_comp_out_low -->
<g id="edge53" class="edge">
<title>run6&#45;&gt;wait_for_comp_out_low</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M514.87,-511.01C512.55,-504.67 509.34,-497.88 505,-492.5 501.88,-488.63 498.22,-485.03 494.31,-481.72"/>
<polygon fill="blue" stroke="blue" points="496.74,-479.17 486.67,-475.88 492.49,-484.73 496.74,-479.17"/>
</g>
<!-- comm6comm1 -->
<g id="node31" class="node">
<title>comm6comm1</title>
<polygon fill="lightblue" stroke="black" points="876,-474.5 782,-474.5 782,-438.5 876,-438.5 876,-474.5"/>
<text xml:space="preserve" text-anchor="middle" x="829" y="-452.23" font-family="Arial" font-size="12.00">comm6comm1</text>
</g>
<!-- run6&#45;&gt;comm6comm1 -->
<g id="edge55" class="edge">
<title>run6&#45;&gt;comm6comm1</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M555.79,-514.29C558.55,-513.28 561.3,-512.33 564,-511.5 650.68,-484.67 678.91,-494.75 770.57,-474.85"/>
<polygon fill="blue" stroke="blue" points="771.3,-478.27 780.29,-472.67 769.77,-471.44 771.3,-478.27"/>
</g>
<!-- check_temp_voltage_and_limit_power -->
<g id="node32" class="node">
<title>check_temp_voltage_and_limit_power</title>
<polygon fill="lightblue" stroke="black" points="763.75,-474.5 542.25,-474.5 542.25,-438.5 763.75,-438.5 763.75,-474.5"/>
<text xml:space="preserve" text-anchor="middle" x="653" y="-452.23" font-family="Arial" font-size="12.00">check_temp_voltage_and_limit_power</text>
</g>
<!-- run6&#45;&gt;check_temp_voltage_and_limit_power -->
<g id="edge56" class="edge">
<title>run6&#45;&gt;check_temp_voltage_and_limit_power</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M554.94,-511.14C572.14,-501.73 593,-490.32 611.05,-480.45"/>
<polygon fill="blue" stroke="blue" points="612.6,-483.59 619.69,-475.72 609.24,-477.45 612.6,-483.59"/>
</g>
<!-- run_to_wait_for_power_on -->
<g id="node13" class="node">
<title>run_to_wait_for_power_on</title>
<polygon fill="lightblue" stroke="black" points="313.25,-39.5 154.75,-39.5 154.75,0 313.25,0 313.25,-39.5"/>
<text xml:space="preserve" text-anchor="middle" x="234" y="-24.1" font-family="Arial" font-size="12.00">返回等待加电</text>
<text xml:space="preserve" text-anchor="middle" x="234" y="-6.85" font-family="Arial" font-size="12.00">run_to_wait_for_power_on</text>
</g>
<!-- run_to_wait_for_power_on&#45;&gt;wait_for_power_on -->
<g id="edge32" class="edge">
<title>run_to_wait_for_power_on&#45;&gt;wait_for_power_on</title>
<path fill="none" stroke="black" d="M154.45,-34.72C86.61,-48.96 0,-73.76 0,-107.5 0,-1094 0,-1094 0,-1094 0,-1142.29 143.64,-1165.18 233.45,-1174.78"/>
<polygon fill="black" stroke="black" points="232.85,-1178.23 243.16,-1175.78 233.57,-1171.27 232.85,-1178.23"/>
</g>
<!-- check_signal_type&#45;&gt;validate_rcp_start -->
<g id="edge3" class="edge">
<title>check_signal_type&#45;&gt;validate_rcp_start</title>
<path fill="none" stroke="black" d="M304,-1492.12C304,-1483.84 304,-1475.2 304,-1467.28"/>
<polygon fill="black" stroke="black" points="307.5,-1467.47 304,-1457.47 300.5,-1467.47 307.5,-1467.47"/>
</g>
<!-- check_arming&#45;&gt;arming_start -->
<g id="edge7" class="edge">
<title>check_arming&#45;&gt;arming_start</title>
<path fill="none" stroke="black" d="M304,-1288.81C304,-1300.02 304,-1314.91 304,-1328.03"/>
<polygon fill="black" stroke="black" points="300.5,-1327.91 304,-1337.91 307.5,-1327.91 300.5,-1327.91"/>
<text xml:space="preserve" text-anchor="middle" x="323.5" y="-1312" font-family="Arial" font-size="10.00">解锁失败</text>
</g>
<!-- check_arming&#45;&gt;wait_for_power_on -->
<g id="edge6" class="edge">
<title>check_arming&#45;&gt;wait_for_power_on</title>
<path fill="none" stroke="black" d="M304,-1252.36C304,-1241.25 304,-1226.45 304,-1213.36"/>
<polygon fill="black" stroke="black" points="307.5,-1213.48 304,-1203.48 300.5,-1213.48 307.5,-1213.48"/>
<text xml:space="preserve" text-anchor="middle" x="323.5" y="-1225" font-family="Arial" font-size="10.00">解锁成功</text>
</g>
<!-- check_throttle&#45;&gt;wait_for_power_on -->
<g id="edge10" class="edge">
<title>check_throttle&#45;&gt;wait_for_power_on</title>
<path fill="none" stroke="black" d="M330.96,-1109.88C326.55,-1121.46 320.46,-1137.49 315.17,-1151.38"/>
<polygon fill="black" stroke="black" points="311.98,-1149.92 311.7,-1160.51 318.53,-1152.41 311.98,-1149.92"/>
<text xml:space="preserve" text-anchor="middle" x="338.83" y="-1134.5" font-family="Arial" font-size="10.00">油门=0</text>
</g>
<!-- check_throttle&#45;&gt;init_start -->
<g id="edge9" class="edge">
<title>check_throttle&#45;&gt;init_start</title>
<path fill="none" stroke="black" d="M381.86,-1085.34C489.04,-1069.42 759.41,-1029.25 871.32,-1012.63"/>
<polygon fill="black" stroke="black" points="871.72,-1016.11 881.09,-1011.18 870.69,-1009.19 871.72,-1016.11"/>
<text xml:space="preserve" text-anchor="middle" x="679.34" y="-1047.5" font-family="Arial" font-size="10.00">油门&gt;0</text>
</g>
<!-- check_startup_phase&#45;&gt;run1 -->
<g id="edge19" class="edge">
<title>check_startup_phase&#45;&gt;run1</title>
<path fill="none" stroke="black" d="M154.35,-473.37C148.88,-487.9 142,-510.15 142,-530.25 142,-852.25 142,-852.25 142,-852.25 142,-895.26 806.19,-919.43 990.86,-925.32"/>
<polygon fill="black" stroke="black" points="990.7,-928.82 1000.81,-925.64 990.93,-921.82 990.7,-928.82"/>
<text xml:space="preserve" text-anchor="middle" x="171.25" y="-696.25" font-family="Arial" font-size="10.00">启动阶段继续</text>
</g>
<!-- check_startup_phase&#45;&gt;run_to_wait_for_power_on -->
<g id="edge20" class="edge">
<title>check_startup_phase&#45;&gt;run_to_wait_for_power_on</title>
<path fill="none" stroke="black" d="M160.68,-438.24C160.39,-421.07 160,-393.97 160,-370.5 160,-370.5 160,-370.5 160,-107.5 160,-83.17 177.05,-62.21 194.79,-46.99"/>
<polygon fill="black" stroke="black" points="196.7,-49.94 202.3,-40.94 192.31,-44.49 196.7,-49.94"/>
<text xml:space="preserve" text-anchor="middle" x="189.25" y="-237" font-family="Arial" font-size="10.00">启动阶段停止</text>
</g>
<!-- check_initial_run_phase -->
<g id="node18" class="node">
<title>check_initial_run_phase</title>
<polygon fill="lightyellow" stroke="black" points="1032,-387.5 920.89,-369.5 1032,-351.5 1143.11,-369.5 1032,-387.5"/>
<text xml:space="preserve" text-anchor="middle" x="1032" y="-366.73" font-family="Arial" font-size="12.00">检查初始运行阶段</text>
</g>
<!-- check_startup_phase&#45;&gt;check_initial_run_phase -->
<g id="edge18" class="edge">
<title>check_startup_phase&#45;&gt;check_initial_run_phase</title>
<path fill="none" stroke="black" d="M204.36,-446.99C220.8,-443.98 239.72,-440.78 257,-438.5 503.56,-405.92 796.39,-385.02 941.37,-375.86"/>
<polygon fill="black" stroke="black" points="941.54,-379.36 951.3,-375.24 941.1,-372.37 941.54,-379.36"/>
<text xml:space="preserve" text-anchor="middle" x="578.9" y="-411" font-family="Arial" font-size="10.00">非启动阶段</text>
</g>
<!-- check_initial_run_phase&#45;&gt;run1 -->
<g id="edge22" class="edge">
<title>check_initial_run_phase&#45;&gt;run1</title>
<path fill="none" stroke="black" d="M1050.04,-384.87C1078.14,-408.27 1132.02,-457.48 1160,-511.5 1178.88,-547.95 1269.97,-838.42 1245,-871 1225.66,-896.24 1139.94,-912.62 1085.05,-920.73"/>
<polygon fill="black" stroke="black" points="1084.75,-917.23 1075.34,-922.12 1085.74,-924.16 1084.75,-917.23"/>
<text xml:space="preserve" text-anchor="middle" x="1248.82" y="-651" font-family="Arial" font-size="10.00">初始运行阶段继续</text>
</g>
<!-- check_initial_run_phase&#45;&gt;run_to_wait_for_power_on -->
<g id="edge23" class="edge">
<title>check_initial_run_phase&#45;&gt;run_to_wait_for_power_on</title>
<path fill="none" stroke="black" d="M1094.94,-361.22C1141.19,-351.96 1196,-330.96 1196,-283.5 1196,-283.5 1196,-283.5 1196,-107.5 1196,-64.04 564.87,-34.07 325.01,-24.25"/>
<polygon fill="black" stroke="black" points="325.19,-20.75 315.06,-23.84 324.9,-27.75 325.19,-20.75"/>
<text xml:space="preserve" text-anchor="middle" x="1235" y="-193.5" font-family="Arial" font-size="10.00">初始运行阶段停止</text>
</g>
<!-- check_bidir -->
<g id="node19" class="node">
<title>check_bidir</title>
<polygon fill="lightyellow" stroke="black" points="1014,-300.5 926.7,-282.5 1014,-264.5 1101.3,-282.5 1014,-300.5"/>
<text xml:space="preserve" text-anchor="middle" x="1014" y="-279.73" font-family="Arial" font-size="12.00">检查双向模式</text>
</g>
<!-- check_initial_run_phase&#45;&gt;check_bidir -->
<g id="edge21" class="edge">
<title>check_initial_run_phase&#45;&gt;check_bidir</title>
<path fill="none" stroke="black" d="M1028.44,-351.71C1026,-340.18 1022.71,-324.62 1019.88,-311.26"/>
<polygon fill="black" stroke="black" points="1023.36,-310.8 1017.86,-301.74 1016.51,-312.25 1023.36,-310.8"/>
<text xml:space="preserve" text-anchor="middle" x="1058.2" y="-324" font-family="Arial" font-size="10.00">非初始运行阶段</text>
</g>
<!-- check_bidir&#45;&gt;run1 -->
<g id="edge26" class="edge">
<title>check_bidir&#45;&gt;run1</title>
<path fill="none" stroke="black" d="M1058.5,-291.8C1091.06,-300.52 1132.79,-317.87 1152,-351.5 1180.85,-401.98 1106.57,-815.57 1089,-871 1085.62,-881.67 1078.82,-891.43 1071.26,-899.69"/>
<polygon fill="black" stroke="black" points="1068.89,-897.11 1064.29,-906.66 1073.84,-902.06 1068.89,-897.11"/>
<text xml:space="preserve" text-anchor="middle" x="1160.46" y="-605.75" font-family="Arial" font-size="10.00">继续运行</text>
</g>
<!-- check_bidir&#45;&gt;run_to_wait_for_power_on -->
<g id="edge25" class="edge">
<title>check_bidir&#45;&gt;run_to_wait_for_power_on</title>
<path fill="none" stroke="black" d="M980.08,-271.17C937.3,-258.08 861.53,-234.65 797,-213.5 616.14,-154.21 404.01,-80.43 299.29,-43.72"/>
<polygon fill="black" stroke="black" points="300.61,-40.48 290.01,-40.47 298.29,-47.08 300.61,-40.48"/>
<text xml:space="preserve" text-anchor="middle" x="654.3" y="-150" font-family="Arial" font-size="10.00">超时或停止</text>
</g>
<!-- check_dir_change -->
<g id="node20" class="node">
<title>check_dir_change</title>
<polygon fill="lightyellow" stroke="black" points="893,-213.5 805.7,-195.5 893,-177.5 980.3,-195.5 893,-213.5"/>
<text xml:space="preserve" text-anchor="middle" x="893" y="-192.72" font-family="Arial" font-size="12.00">检查方向变化</text>
</g>
<!-- check_bidir&#45;&gt;check_dir_change -->
<g id="edge24" class="edge">
<title>check_bidir&#45;&gt;check_dir_change</title>
<path fill="none" stroke="black" d="M994.83,-268.03C975,-254.1 943.84,-232.21 921.2,-216.31"/>
<polygon fill="black" stroke="black" points="923.52,-213.66 913.32,-210.78 919.49,-219.39 923.52,-213.66"/>
<text xml:space="preserve" text-anchor="middle" x="980.24" y="-237" font-family="Arial" font-size="10.00">双向模式</text>
</g>
<!-- check_dir_change&#45;&gt;run4 -->
<g id="edge28" class="edge">
<title>check_dir_change&#45;&gt;run4</title>
<path fill="none" stroke="black" d="M892.1,-213.67C890.85,-247.82 890.82,-326.25 912,-387.5 917.68,-403.93 918.45,-410.99 933,-420.5 976.67,-449.05 1015.05,-398.88 1049,-438.5 1059.41,-450.65 1059.48,-462.41 1049,-474.5 972.81,-562.34 883.37,-442.2 790,-511.5 744.34,-545.39 768.24,-580.66 736,-627.5 724.42,-644.33 720.59,-648.58 704,-660.5 698.2,-664.67 685.85,-670.91 672.7,-677.07"/>
<polygon fill="black" stroke="black" points="671.58,-673.73 663.96,-681.1 674.5,-680.09 671.58,-673.73"/>
<text xml:space="preserve" text-anchor="middle" x="1076.34" y="-454.5" font-family="Arial" font-size="10.00">需要刹车</text>
</g>
<!-- check_speed -->
<g id="node21" class="node">
<title>check_speed</title>
<polygon fill="lightyellow" stroke="black" points="663,-126.5 599.51,-108.5 663,-90.5 726.49,-108.5 663,-126.5"/>
<text xml:space="preserve" text-anchor="middle" x="663" y="-105.72" font-family="Arial" font-size="12.00">检查速度</text>
</g>
<!-- check_dir_change&#45;&gt;check_speed -->
<g id="edge27" class="edge">
<title>check_dir_change&#45;&gt;check_speed</title>
<path fill="none" stroke="black" d="M862.93,-183.39C821.08,-167.92 745.34,-139.93 700.05,-123.19"/>
<polygon fill="black" stroke="black" points="701.52,-120.01 690.93,-119.82 699.1,-126.57 701.52,-120.01"/>
<text xml:space="preserve" text-anchor="middle" x="811.27" y="-150" font-family="Arial" font-size="10.00">方向变化</text>
</g>
<!-- check_speed&#45;&gt;run1 -->
<g id="edge29" class="edge">
<title>check_speed&#45;&gt;run1</title>
<path fill="none" stroke="black" d="M715.07,-112.2C855.35,-119.91 1233.59,-143.62 1278,-177.5 1301,-195.04 1302,-209.07 1302,-238 1302,-852.25 1302,-852.25 1302,-852.25 1302,-896.87 1160.56,-916.08 1084.73,-923.18"/>
<polygon fill="black" stroke="black" points="1084.76,-919.66 1075.11,-924.04 1085.38,-926.63 1084.76,-919.66"/>
<text xml:space="preserve" text-anchor="middle" x="1321.5" y="-529.25" font-family="Arial" font-size="10.00">速度足够</text>
</g>
<!-- check_speed&#45;&gt;run1 -->
<g id="edge31" class="edge">
<title>check_speed&#45;&gt;run1</title>
<path fill="none" stroke="black" d="M618.55,-114.34C505.28,-127.49 209.73,-167.3 138,-231.5 22.51,-334.86 46,-433.67 46,-492.5 46,-852.25 46,-852.25 46,-852.25 46,-900.25 794.24,-921.07 991.04,-925.71"/>
<polygon fill="black" stroke="black" points="990.81,-929.21 1000.89,-925.94 990.97,-922.21 990.81,-929.21"/>
<text xml:space="preserve" text-anchor="middle" x="80.12" y="-529.25" font-family="Arial" font-size="10.00">方向变化后重启</text>
</g>
<!-- check_speed&#45;&gt;run_to_wait_for_power_on -->
<g id="edge30" class="edge">
<title>check_speed&#45;&gt;run_to_wait_for_power_on</title>
<path fill="none" stroke="black" d="M627.16,-100.25C561.27,-86.93 419.03,-58.17 324.93,-39.14"/>
<polygon fill="black" stroke="black" points="325.68,-35.72 315.19,-37.17 324.3,-42.58 325.68,-35.72"/>
<text xml:space="preserve" text-anchor="middle" x="506.42" y="-63" font-family="Arial" font-size="10.00">速度过低</text>
</g>
</g>
</svg>
